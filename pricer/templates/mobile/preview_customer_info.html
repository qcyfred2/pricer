<!--Mobile-->
<!-- 暂时没有用 -->

{% extends "mobile/base.html" %} {% block head %}
<title>报价系统</title>
{% endblock %} {% block body %}

<div data-role="page" id="pagethree">

    <div data-role="header">
        <h2>买家信息</h2>
    </div>

    <div data-role="main" class="ui-content">
        <div class="list-group">
            <span href="#" class="list-group-item active">
                <h4 class="list-group-item-heading">
                    买家信息确认
                </h4>

            </span>

            <span href="#" class="list-group-item">
                <form method="POST" action="{{nginx_prefix}}/mobile/save_order/">
                    {% csrf_token %}
                    <p class="list-group-item-text">
                        <input type="text" name="name" id="name" placeholder="姓名*" />
                    </p>
                    <p class="list-group-item-text">
                        <input type="text" name="tel" id="tel" placeholder="电话*" />
                    </p>
                    <p class="list-group-item-text">
                        <input type="text" name="email" id="email" placeholder="E-mail*" />
                    </p>
                    <p class="list-group-item-text">
                        <textarea type="addinfo" id="organization" name="organization" placeholder="单位名称*"></textarea>
                    </p>
                    <p class="list-group-item-text">
                        <input type="submit" value="提交订单" onclick="return validate()" />
                    </p>
                    <p class="" style="font-size: 10pt; ">
                        <span style="color: red;">*</span>请将信息填写完整
                    </p>
                </form>
            </span>

        </div>
    </div>

</div>


<script type="text/javascript">

    $(document).ready(function () {


    });

    // 提交前的表单验证
    // 暂时就用js简单验证
    function validate() {

        var name = $("input:text[name='name']").val();
        if (name.length <= 0) {
            return false;
        }

        // email的格式，长度…
        var email = $("input:text[name='email']").val();
        if (email.length <= 0) {
            return false;
        }

        // 电话
        var tel = $("input:text[name='tel']").val();
        if (tel.length <= 0) {
            return false;
        }

        // 留言，不超过128字？ 和db设计有关
        var organization = $("#organization").val();
        if (organization.length > 128 || organization.length <= 0) {
            return false;
        }

        return true;
    }


</script> {% endblock %}